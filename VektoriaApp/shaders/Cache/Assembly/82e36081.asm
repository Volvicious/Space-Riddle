//
// Generated by Microsoft (R) HLSL Shader Compiler 9.29.952.3111
//
//
// Buffer Definitions: 
//
// cbuffer TexInfo
// {
//
//   float4 f4ColorAmbient;             // Offset:    0 Size:    16 [unused]
//   float fA;                          // Offset:   16 Size:     4 [unused]
//   float fH;                          // Offset:   20 Size:     4 [unused]
//   float fBumpStrength;               // Offset:   24 Size:     4
//   float frTransparency;              // Offset:   28 Size:     4 [unused]
//   float4 f4ColorSSS;                 // Offset:   32 Size:    16 [unused]
//   float4 f4SSSBRDFParams;            // Offset:   48 Size:    16 [unused]
//   uint uImage;                       // Offset:   64 Size:     4 [unused]
//   uint uGlow;                        // Offset:   68 Size:     4 [unused]
//   uint uSpecular;                    // Offset:   72 Size:     4 [unused]
//   uint uBump;                        // Offset:   76 Size:     4
//   uint uImageBlack;                  // Offset:   80 Size:     4 [unused]
//   uint uGlowAsImage;                 // Offset:   84 Size:     4 [unused]
//   uint uSpecularAsImage;             // Offset:   88 Size:     4 [unused]
//   uint uHeightAsImage;               // Offset:   92 Size:     4 [unused]
//   uint uImageWhite;                  // Offset:   96 Size:     4 [unused]
//   uint uGlowWhite;                   // Offset:  100 Size:     4 [unused]
//   uint uSpecularWhite;               // Offset:  104 Size:     4 [unused]
//   uint uHeight;                      // Offset:  108 Size:     4 [unused]
//   uint uShadingOn;                   // Offset:  112 Size:     4 [unused]
//   uint uGlowAsAmbient;               // Offset:  116 Size:     4 [unused]
//   uint uChromaKeying;                // Offset:  120 Size:     4 [unused]
//   uint uEnvironment;                 // Offset:  124 Size:     4 [unused]
//   uint uPOM;                         // Offset:  128 Size:     4 [unused]
//   uint uTexBRDF;                     // Offset:  132 Size:     4 [unused]
//   uint uTexSSS;                      // Offset:  136 Size:     4 [unused]
//   uint uReflectionMap;               // Offset:  140 Size:     4 [unused]
//   uint uixPos;                       // Offset:  144 Size:     4 [unused]
//   uint uiyPos;                       // Offset:  148 Size:     4 [unused]
//   uint uixPics;                      // Offset:  152 Size:     4 [unused]
//   uint uiyPics;                      // Offset:  156 Size:     4 [unused]
//   float fRoughness;                  // Offset:  160 Size:     4 [unused]
//   float fIOR;                        // Offset:  164 Size:     4 [unused]
//   float fSpecular;                   // Offset:  168 Size:     4 [unused]
//   float fMetallic;                   // Offset:  172 Size:     4 [unused]
//   float fSubSurface;                 // Offset:  176 Size:     4 [unused]
//   float fAnistropic;                 // Offset:  180 Size:     4 [unused]
//   float fSheen;                      // Offset:  184 Size:     4 [unused]
//   float fSheenTint;                  // Offset:  188 Size:     4 [unused]
//   float fClearCoat;                  // Offset:  192 Size:     4 [unused]
//   float fClearCoatGloss;             // Offset:  196 Size:     4 [unused]
//   float fSpecularTint;               // Offset:  200 Size:     4 [unused]
//   uint uTextureAddressMode;          // Offset:  204 Size:     4 [unused]
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim Slot Elements
// ------------------------------ ---------- ------- ----------- ---- --------
// g_Sampler                         sampler      NA          NA    0        1
// tex2D[0]                          texture  float4          2d   15        1
// tex2D[3]                          texture  float4          2d   18        1
// TexInfo                           cbuffer      NA          NA    5        1
//
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue Format   Used
// -------------------- ----- ------ -------- -------- ------ ------
// NORMAL                   0   xyz         0     NONE  float   xyz 
// TEXCOORD                 0   xy          1     NONE  float   xy  
// TEXCOORD                 1   xyz         2     NONE  float       
// SV_POSITION              0   xyzw        3      POS  float       
// TANGENT                  0   xyz         4     NONE  float   xyz 
// BITANGENT                0   xyz         5     NONE  float   xyz 
//
//
// Output signature:
//
// Name                 Index   Mask Register SysValue Format   Used
// -------------------- ----- ------ -------- -------- ------ ------
// SV_TARGET                0   xyzw        0   TARGET  float   xyzw
// SV_TARGET                1   xyzw        1   TARGET  float   xyzw
//
ps_5_0
dcl_globalFlags refactoringAllowed
dcl_constantbuffer cb5[5], immediateIndexed
dcl_sampler s0, mode_default
dcl_resource_texture2d (float,float,float,float) t15
dcl_resource_texture2d (float,float,float,float) t18
dcl_input_ps linear v0.xyz
dcl_input_ps linear v1.xy
dcl_input_ps linear v4.xyz
dcl_input_ps linear v5.xyz
dcl_output o0.xyzw
dcl_output o1.xyzw
dcl_temps 2

#line 69 "\\?\C:\Projects\Vektoria_2015-05-22_V13withPatch4\Vektoria\trunk\VektoriaApp\shaders\source\reflectiveshadowmaps.hlsl"
ine r0.x, l(0, 0, 0, 0), cb5[4].w
if_nz r0.x
  sample_indexable(texture2d)(float,float,float,float) r0.xy, v1.xyxx, t18.xyzw, s0
  mul r0.xy, r0.xyxx, l(2.000000, 2.000000, 0.000000, 0.000000)
  add r0.xy, r0.xyxx, l(-1.000000, -1.000000, 0.000000, 0.000000)  // f3BumpNormal<0:Inf,1:Inf>
  mul r0.xy, r0.xyxx, cb5[1].zzzz  // f3BumpNormal<0:NaN:Inf,1:NaN:Inf>
  mul r0.xzw, r0.xxxx, v4.xxyz
  mov r0.y, -r0.y
  mul r1.xyz, r0.yyyy, v5.xyzx
  add r0.xyz, r0.xzwx, r1.xyzx
  add r0.xyz, r0.xyzx, v0.xyzx  // input<0:NaN:Inf,1:NaN:Inf,2:NaN:Inf>
  dp3 r0.w, r0.xyzx, r0.xyzx
  rsq r0.w, r0.w
  mul r0.xyz, r0.wwww, r0.xyzx  // output<0:NaN:Inf,1:NaN:Inf,2:NaN:Inf>

#line 69
else 

#line 78
  dp3 r0.w, v0.xyzx, v0.xyzx
  rsq r0.w, r0.w
  mul r1.xyz, r0.wwww, v0.xyzx
  add r1.xyz, r1.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
  mul r1.xyz, r1.xyzx, l(0.500000, 0.500000, 0.500000, 0.000000)
  dp3 r0.w, r1.xyzx, r1.xyzx
  rsq r0.w, r0.w
  mul r0.xyz, r0.wwww, r1.xyzx  // output<0:NaN:Inf,1:NaN:Inf,2:NaN:Inf>

#line 69
endif 

#line 81
sample_indexable(texture2d)(float,float,float,float) r1.xyz, v1.xyxx, t15.xyzw, s0
mov r1.xyz, r1.xyzx  // output<4:Inf,5:Inf,6:Inf>

#line 84
mov o0.xyz, r0.xyzx  // RSMPS<0:NaN:Inf,1:NaN:Inf,2:NaN:Inf>
mov o0.w, l(0)  // RSMPS<3: 0f>
mov o1.xyz, r1.xyzx  // RSMPS<4:Inf,5:Inf,6:Inf>
mov o1.w, l(1.000000)  // RSMPS<7: 1f>
ret 
// Approximately 31 instruction slots used
